# Railway Environment Variables Template
# Copy these into your Railway service's environment variables
# Replace placeholder values with actual credentials

# =============================================================================
# API GATEWAY SERVICE VARIABLES
# =============================================================================

# Service Configuration
SERVICE_NAME=prela-api-gateway
ENVIRONMENT=production
LOG_LEVEL=INFO

# Database (Reference Railway services)
DATABASE_URL=${{Postgres.DATABASE_URL}}
REDIS_URL=${{Redis.REDIS_URL}}

# ClickHouse Cloud
# Get these from: https://clickhouse.com/cloud
CLICKHOUSE_HOST=your-instance.clickhouse.cloud
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=your-clickhouse-password-here
CLICKHOUSE_PORT=8443
CLICKHOUSE_DATABASE=prela

# Clerk Authentication
# Get these from: https://dashboard.clerk.com
CLERK_PUBLISHABLE_KEY=pk_live_xxx_or_pk_test_xxx
CLERK_SECRET_KEY=sk_live_xxx_or_sk_test_xxx
CLERK_JWKS_URL=https://your-app.clerk.accounts.dev/.well-known/jwks.json

# Stripe (Test Mode)
# See: STRIPE_CONFIGURATION.md
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_WEBHOOK_SECRET=whsec_xxx_get_after_creating_webhook
STRIPE_LUNCH_MONEY_PRICE_ID=price_1SwT6ZGw4cezTOlQ8WiBaznB
STRIPE_PRO_PRICE_ID=price_1SwT7OGw4cezTOlQZfg2iMsm

# Pro Tier Overage Price IDs (metered billing)
STRIPE_PRO_TRACES_PRICE_ID=price_1SwTBcGw4cezTOlQxIugsnHg
STRIPE_PRO_USERS_PRICE_ID=price_1SwTBdGw4cezTOlQHqP0Znfn
STRIPE_PRO_AI_HALLUCINATION_PRICE_ID=price_1SwTBdGw4cezTOlQIgycGjVV
STRIPE_PRO_AI_DRIFT_PRICE_ID=price_1SwTBeGw4cezTOlQLCHm8Kh8
STRIPE_PRO_AI_NLP_PRICE_ID=price_1SwTBfGw4cezTOlQUJU1iPnt
STRIPE_PRO_RETENTION_PRICE_ID=price_1SwTBfGw4cezTOlQUT0YFX75

# API Configuration
API_PORT=8000
API_HOST=0.0.0.0
CORS_ORIGINS=["https://dashboard.prela.app","http://localhost:5173"]

# JWT Security
# Generate with: openssl rand -base64 32
JWT_SECRET=REPLACE_WITH_RANDOM_SECRET_STRING
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60

# Rate Limiting
RATE_LIMIT_PER_MINUTE=100

# =============================================================================
# INGEST GATEWAY SERVICE VARIABLES
# =============================================================================

# Service Configuration
SERVICE_NAME=prela-ingest-gateway
ENVIRONMENT=production
LOG_LEVEL=INFO

# Database (Reference Railway services)
DATABASE_URL=${{Postgres.DATABASE_URL}}
REDIS_URL=${{Redis.REDIS_URL}}

# ClickHouse Cloud (same as API Gateway)
CLICKHOUSE_HOST=your-instance.clickhouse.cloud
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=your-clickhouse-password-here
CLICKHOUSE_PORT=8443
CLICKHOUSE_DATABASE=prela

# API Configuration
API_PORT=8001
API_HOST=0.0.0.0
CORS_ORIGINS=["https://dashboard.prela.app","http://localhost:5173"]

# =============================================================================
# NOTES
# =============================================================================

# 1. DO NOT commit this file with real credentials
# 2. Use Railway's variable referencing: ${{ServiceName.VARIABLE_NAME}}
# 3. Generate JWT_SECRET with: openssl rand -base64 32
# 4. Update STRIPE_WEBHOOK_SECRET after creating webhook endpoint
# 5. For production, use Stripe live keys (sk_live_xxx)
# 6. For production, use Clerk live keys (pk_live_xxx, sk_live_xxx)

# =============================================================================
# PRODUCTION CHECKLIST
# =============================================================================
# [ ] ENVIRONMENT=production
# [ ] Stripe live keys (when ready for real payments)
# [ ] Clerk production keys
# [ ] CORS_ORIGINS only includes production domains
# [ ] JWT_SECRET is random and secure (32+ characters)
# [ ] ClickHouse password is secure
# [ ] All secrets are in Railway (not in git)
