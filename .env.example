# Prela Backend Environment Variables
# Copy this file to .env and fill in your values

# Service Configuration
SERVICE_NAME=prela-local
ENVIRONMENT=development  # development, staging, production
LOG_LEVEL=DEBUG  # DEBUG, INFO, WARNING, ERROR

# Database (Railway Postgres or local)
DATABASE_URL=postgresql://prela:localdev@localhost:5432/prela

# ClickHouse Cloud (or local ClickHouse)
# Production: your-instance.clickhouse.cloud
# Local: localhost
CLICKHOUSE_HOST=localhost
CLICKHOUSE_PORT=8123  # 8443 for ClickHouse Cloud
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=localdev
CLICKHOUSE_DATABASE=prela

# Upstash Kafka (or local Redpanda)
# Production: your-cluster.upstash.io:9092
# Local: localhost:19092
KAFKA_BOOTSTRAP_SERVERS=localhost:19092
KAFKA_USERNAME=
KAFKA_PASSWORD=
KAFKA_TOPIC_TRACES=traces
KAFKA_TOPIC_SPANS=spans

# Redis (Railway or Upstash Redis, or local)
REDIS_URL=redis://localhost:6379

# Auth & Security
JWT_SECRET=change-this-to-a-secure-random-string-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60

# API Configuration
API_PORT=8000
API_HOST=0.0.0.0
CORS_ORIGINS=["http://localhost:3000"]

# Rate Limiting
RATE_LIMIT_PER_MINUTE=100

# Clerk Authentication (for API Gateway)
CLERK_SECRET_KEY=sk_test_your_key_here
CLERK_PUBLISHABLE_KEY=pk_test_your_key_here
CLERK_JWKS_URL=https://your-app.clerk.accounts.dev/.well-known/jwks.json

# Stripe Configuration (for API Gateway billing)
# Get keys from https://dashboard.stripe.com/test/apikeys
STRIPE_SECRET_KEY=sk_test_placeholder
STRIPE_PUBLISHABLE_KEY=pk_test_placeholder
STRIPE_WEBHOOK_SECRET=whsec_placeholder

# Stripe Price IDs (set up in Stripe dashboard under Products)
STRIPE_LUNCH_MONEY_PRICE_ID=price_placeholder_lunch
STRIPE_PRO_PRICE_ID=price_placeholder_pro

# Pro Tier Overage Price IDs (metered billing)
STRIPE_PRO_TRACES_PRICE_ID=price_placeholder_traces
STRIPE_PRO_USERS_PRICE_ID=price_placeholder_users
STRIPE_PRO_AI_HALLUCINATION_PRICE_ID=price_placeholder_hallucination
STRIPE_PRO_AI_DRIFT_PRICE_ID=price_placeholder_drift
STRIPE_PRO_AI_NLP_PRICE_ID=price_placeholder_nlp
STRIPE_PRO_RETENTION_PRICE_ID=price_placeholder_retention

# Email Configuration (optional for now)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USERNAME=your_smtp_username
SMTP_PASSWORD=your_smtp_password
SMTP_FROM_ADDRESS=noreply@prela.app
